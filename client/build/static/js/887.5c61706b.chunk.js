/*! For license information please see 887.5c61706b.chunk.js.LICENSE.txt */
(self.webpackChunksample_curd=self.webpackChunksample_curd||[]).push([[887],{9887:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return A}});var n=r(2791),a=r(907);var i=r(181);function o(e){return function(e){if(Array.isArray(e))return(0,a.Z)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,i.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var l=r(5861),s=r(885),c=r(7757),u=r.n(c),d=r(4569),f=r.n(d),p=r(501),h=r(4925),m=r(4942),g=r(1694),x=r.n(g),v="...",y=function(e,t){var r=t-e+1;return Array.from({length:r},(function(t,r){return r+e}))},b=r(184),j=function(e){var t=e.onPageChange,r=e.totalCount,a=e.siblingCount,i=void 0===a?1:a,l=e.currentPage,s=e.pageSize,c=e.className,u=function(e){var t=e.totalCount,r=e.pageSize,a=e.siblingCount,i=void 0===a?1:a,l=e.currentPage;return(0,n.useMemo)((function(){var e=Math.ceil(t/r);if(i+5>=e)return y(1,e);var n=Math.max(l-i,1),a=Math.min(l+i,e),s=n>2,c=a<e-2,u=1,d=e;if(!s&&c){var f=y(1,3+2*i);return[].concat(o(f),[v,e])}if(s&&!c){var p=y(e-(3+2*i)+1,e);return[u,v].concat(o(p))}if(s&&c){var h=y(n,a);return[u,v].concat(o(h),[v,d])}}),[t,r,i,l])}({currentPage:l,totalCount:r,siblingCount:i,pageSize:s});if(0===l||u.length<2)return null;var d=u[u.length-1];return(0,b.jsxs)("ul",{className:x()("pagination-container",(0,m.Z)({},c,c)),children:[(0,b.jsx)("li",{className:x()("pagination-item",{disabled:1===l}),onClick:function(){t(l-1)},children:(0,b.jsx)("div",{className:"arrow left"})}),u.map((function(e){return e===v?(0,b.jsx)("li",{className:"pagination-item dots",children:"\u2026"},e):(0,b.jsx)("li",{className:x()("pagination-item",{selected:e===l}),onClick:function(){return t(e)},children:e},e)})),(0,b.jsx)("li",{className:x()("pagination-item",{disabled:l===d}),onClick:function(){t(l+1)},children:(0,b.jsx)("div",{className:"arrow right"})})]})},w=r(1413),O=function(){return O=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},O.apply(this,arguments)};var k=function(e){var t=e.animate,r=e.animateBegin,a=e.backgroundColor,i=e.backgroundOpacity,o=e.baseUrl,l=e.children,s=e.foregroundColor,c=e.foregroundOpacity,u=e.gradientRatio,d=e.gradientDirection,f=e.uniqueKey,p=e.interval,h=e.rtl,m=e.speed,g=e.style,x=e.title,v=e.beforeMask,y=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r}(e,["animate","animateBegin","backgroundColor","backgroundOpacity","baseUrl","children","foregroundColor","foregroundOpacity","gradientRatio","gradientDirection","uniqueKey","interval","rtl","speed","style","title","beforeMask"]),b=f||Math.random().toString(36).substring(6),j=b+"-diff",w=b+"-animated-diff",k=b+"-aria",N=h?{transform:"scaleX(-1)"}:null,C="0; "+p+"; 1",E=m+"s",P="top-bottom"===d?"rotate(90)":void 0;return(0,n.createElement)("svg",O({"aria-labelledby":k,role:"img",style:O(O({},g),N)},y),x?(0,n.createElement)("title",{id:k},x):null,v&&(0,n.isValidElement)(v)?v:null,(0,n.createElement)("rect",{role:"presentation",x:"0",y:"0",width:"100%",height:"100%",clipPath:"url("+o+"#"+j+")",style:{fill:"url("+o+"#"+w+")"}}),(0,n.createElement)("defs",null,(0,n.createElement)("clipPath",{id:j},l),(0,n.createElement)("linearGradient",{id:w,gradientTransform:P},(0,n.createElement)("stop",{offset:"0%",stopColor:a,stopOpacity:i},t&&(0,n.createElement)("animate",{attributeName:"offset",values:-u+"; "+-u+"; 1",keyTimes:C,dur:E,repeatCount:"indefinite",begin:r})),(0,n.createElement)("stop",{offset:"50%",stopColor:s,stopOpacity:c},t&&(0,n.createElement)("animate",{attributeName:"offset",values:-u/2+"; "+-u/2+"; "+(1+u/2),keyTimes:C,dur:E,repeatCount:"indefinite",begin:r})),(0,n.createElement)("stop",{offset:"100%",stopColor:a,stopOpacity:i},t&&(0,n.createElement)("animate",{attributeName:"offset",values:"0; 0; "+(1+u),keyTimes:C,dur:E,repeatCount:"indefinite",begin:r})))))};k.defaultProps={animate:!0,backgroundColor:"#f5f6f7",backgroundOpacity:1,baseUrl:"",foregroundColor:"#eee",foregroundOpacity:1,gradientRatio:2,gradientDirection:"left-right",id:null,interval:.25,rtl:!1,speed:1.2,style:{},title:"Loading...",beforeMask:null};var N=function(e){return e.children?(0,n.createElement)(k,O({},e)):(0,n.createElement)(C,O({},e))},C=function(e){return(0,n.createElement)(N,O({viewBox:"0 0 476 124"},e),(0,n.createElement)("rect",{x:"48",y:"8",width:"88",height:"6",rx:"3"}),(0,n.createElement)("rect",{x:"48",y:"26",width:"52",height:"6",rx:"3"}),(0,n.createElement)("rect",{x:"0",y:"56",width:"410",height:"6",rx:"3"}),(0,n.createElement)("rect",{x:"0",y:"72",width:"380",height:"6",rx:"3"}),(0,n.createElement)("rect",{x:"0",y:"88",width:"178",height:"6",rx:"3"}),(0,n.createElement)("circle",{cx:"20",cy:"20",r:"20"}))},E=N,P=function(e){return(0,b.jsxs)(E,(0,w.Z)((0,w.Z)({speed:2,width:"100%",height:256,viewBox:"0 0 100% 256",backgroundColor:"#f3f3f3",foregroundColor:"#ecebeb"},e),{},{children:[(0,b.jsx)("rect",{x:"3",y:"5",rx:"0",ry:"0",width:"349",height:"250"}),(0,b.jsx)("rect",{x:"375",y:"13",rx:"0",ry:"0",width:"100%",height:"34"}),(0,b.jsx)("rect",{x:"375",y:"64",rx:"0",ry:"0",width:"100%",height:"24"}),(0,b.jsx)("rect",{x:"374",y:"109",rx:"0",ry:"0",width:"100%",height:"24"})]}))},S=["data"],Z=function(e){var t,r=e.data,n=((0,h.Z)(e,S),(0,p.lr)()),a=(0,s.Z)(n,2),i=a[0],l=a[1];return(0,b.jsxs)("div",{children:[r.data?null:(0,b.jsx)("div",{className:"flex mx-2 py-6 border-b border-neutral-300",children:(0,b.jsx)(P,{})}),null===r||void 0===r||null===(t=r.data)||void 0===t?void 0:t.map((function(e){return(0,b.jsxs)("div",{className:"flex mx-2 py-6 border-b border-neutral-300",children:[(0,b.jsx)(p.rU,{to:"/posts/".concat(e._id),children:(0,b.jsxs)("div",{className:"flex-1 h-[256px] w-[380px] overflow-hidden place-content-center flex",children:[e.image?(0,b.jsx)("img",{className:"max-w-fit",alt:"",src:e.image,loading:"lazy"}):null,e.img?(0,b.jsx)("img",{className:"max-w-fit",alt:"",src:e.img,loading:"lazy"}):null]})}),(0,b.jsxs)("div",{className:"flex-1 pl-6 flex flex-col",children:[(0,b.jsxs)("div",{className:"text-2xl font-bold",children:[" ",(0,b.jsx)(p.rU,{to:"/posts/".concat(e._id),children:e.title})," "]}),(0,b.jsxs)("div",{className:"flex items-center my-4 text-gray-400",children:[(0,b.jsxs)("div",{className:"flex text-xs mr-4",children:[(0,b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),e.author]}),(0,b.jsxs)("div",{className:"flex text-xs",children:[(0,b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.updatedAt]})]}),(0,b.jsxs)("div",{className:"text-xs flex items-center",children:[(0,b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})})," ",e.tags.map((function(e){return(0,b.jsx)("div",{className:"m-1",children:(0,b.jsx)(p.rU,{to:"?tag=".concat(e.value),children:e.value})},e.value)}))]}),(0,b.jsx)("div",{className:"flex items-center",children:e.desc})]})]},e._id)})),(0,b.jsx)("div",{className:"m-2 flex justify-center",children:(0,b.jsx)(j,{className:"pagination-bar",currentPage:parseInt((null===r||void 0===r?void 0:r.page)||1),totalCount:parseInt((null===r||void 0===r?void 0:r.total)||0),pageSize:parseInt((null===r||void 0===r?void 0:r.range)||1),onPageChange:function(e){return function(e){var t=Object.fromEntries(o(i)),r={page:e};t.tag&&(r.tag=t.tag),t.search&&(r.search=t.search),l(r)}(e)}})})]})},M=function(){var e=(0,p.lr)(),t=(0,s.Z)(e,1)[0],r=(0,n.useState)(""),a=(0,s.Z)(r,2),i=a[0],c=a[1],d=(0,n.useState)([]),h=(0,s.Z)(d,2),m=h[0],g=h[1],x=function(){var e=(0,l.Z)(u().mark((function e(r){var n,a,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=Object.fromEntries(o(t)),a=[],n.tag&&(a.push("tag="+n.tag),c(n.tag)),n.search&&(a.push("search="+n.search),c(n.search)),n.page&&a.push("page="+n.page),e.next=8,f().get("/api/mydata/list"+(a?"?"+a.join("&"):""));case 8:i=e.sent,g(i.data),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}();return(0,n.useEffect)((function(){g({}),x()}),[t]),(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex justify-between border-b",children:[(0,b.jsxs)("div",{className:"p-4 flex items-center gap-2",children:[(0,b.jsx)("div",{className:" text-2xl font-bold",children:"All Posts"}),(0,b.jsxs)("div",{className:"hidden text-2xl",children:[" ",null!==i&&void 0!==i?i:"#".concat(i)]})]}),(0,b.jsx)("div",{className:"p-4 text-2xl font-bold",children:(0,b.jsx)(p.rU,{to:"/posts/new",title:"New Post",children:"\uff0b"})})]}),(0,b.jsx)(Z,{data:m})]})},z=function(e){return(0,b.jsx)(M,{})},A=function(){return(0,b.jsx)(z,{})}},1694:function(e,t){var r;!function(){"use strict";var n={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var i=typeof r;if("string"===i||"number"===i)e.push(r);else if(Array.isArray(r)){if(r.length){var o=a.apply(null,r);o&&e.push(o)}}else if("object"===i)if(r.toString===Object.prototype.toString)for(var l in r)n.call(r,l)&&r[l]&&e.push(l);else e.push(r.toString())}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):void 0===(r=function(){return a}.apply(t,[]))||(e.exports=r)}()},4942:function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,{Z:function(){return n}})},1413:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(4942);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}}}]);
//# sourceMappingURL=887.5c61706b.chunk.js.map